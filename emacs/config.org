* Basics

#+begin_src emacs-lisp :tangle yes
  (menu-bar-mode 1)
  (tool-bar-mode 0)
  (scroll-bar-mode 1)
  (delete-selection-mode 1)
  (global-hl-line-mode 0)
  (blink-cursor-mode 0)
  (column-number-mode 1)
  (global-set-key (kbd "M-p") #'scroll-down-line)
  (global-set-key (kbd "M-n") #'scroll-up-line)
  ;;(global-unset-key (kbd "<pinch>"))
  (global-display-line-numbers-mode 0)
  (setq mode-line-format nil)
  (setq backup-directory-alist '(("." . "~/.emacs_saves")))
  (setq ring-bell-function 'ignore)
  ;;(setq-default indent-tabs-mode nil)
  ;;(setq-default tab-width 8)
  (global-visual-line-mode 1)
  ;;(setq dired-listing-switches "-alFh")
  (setq-default mode-line-format (list "%m: %b (%*), line %l "))

  ;; return to prev layout with C-c left
  (winner-mode 1)
  ;; Rebind Shift+Arrow to switch windows
  (global-set-key (kbd "S-<left>")  #'windmove-left)
  (global-set-key (kbd "S-<right>") #'windmove-right)
  (global-set-key (kbd "S-<up>")    #'windmove-up)
  (global-set-key (kbd "S-<down>")  #'windmove-down)

  ;; Make emacs detect sentences as period + single space
  (setq sentence-end-double-space nil)

  (defun rc/duplicate-dwim()
    (interactive)
    (duplicate-dwim ())
    (next-line))

  (global-set-key (kbd "C-,") 'rc/duplicate-dwim)

  ;; Opens a new line and places cursor on it, without breaking the current line
  (define-key global-map (kbd "<M-return>") (lambda ()
                                              (interactive)
                                              (move-end-of-line 1)
                                              (newline-and-indent)))

  ;; Opens a new line above and places cursor on it
  (define-key global-map (kbd "<M-S-return>") (lambda ()
                                              (interactive)
                                              (move-beginning-of-line 1)
                                              (newline)
                                              (previous-line)
                                              (indent-according-to-mode)))
  (add-to-list 'custom-theme-load-path "/home/vb/dev/emacs/themes")
  (load-theme 'gruber-darkest 1)
  (set-face-attribute 'default nil :font "Iosevka-12")

#+end_src

#+RESULTS:
: rc/duplicate-dwim
